{"ast":null,"code":"import React from'react';import{Link}from'react-router-dom';import Moment from'react-moment';import{connect}from'react-redux';import{addLike,removeLike,deltePost}from'../../action/post';var PostItem=function PostItem(_ref){var addLike=_ref.addLike,removeLike=_ref.removeLike,deltePost=_ref.deltePost,auth=_ref.auth,_ref$post=_ref.post,_id=_ref$post._id,text=_ref$post.text,name=_ref$post.name,avatar=_ref$post.avatar,user=_ref$post.user,likes=_ref$post.likes,comments=_ref$post.comments,date=_ref$post.date,showActions=_ref.showActions;return/*#__PURE__*/React.createElement(\"div\",{className:\"post bg-white p-1 my-1\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Link,{to:\"/profile/\".concat(user)},/*#__PURE__*/React.createElement(\"img\",{className:\"round-img\",src:avatar,alt:\"\"}),/*#__PURE__*/React.createElement(\"h4\",null,name))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"my-1\"},text),/*#__PURE__*/React.createElement(\"p\",{className:\"post-date\"},\"Post on \",/*#__PURE__*/React.createElement(Moment,{format:\"YYYY/MM/DD\"},date),' '),showActions&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(e){return addLike(_id);},type:\"button\",className:\"btn btn-light\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-thumbs-up\"}),/*#__PURE__*/React.createElement(\"span\",null,\" \",likes.length>0&&/*#__PURE__*/React.createElement(\"span\",null,likes.length))),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(e){return removeLike(_id);},type:\"button\",className:\"btn btn-light\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-thumbs-down\"})),/*#__PURE__*/React.createElement(Link,{to:\"/posts/\".concat(_id),className:\"btn btn-primary\"},\"Discussion\",' ',comments.length>0&&/*#__PURE__*/React.createElement(\"span\",{className:\"comment-count\"},comments.length)),!auth.loading&&user===auth.user._id&&/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(e){return deltePost(_id);},type:\"button\",className:\"btn btn-danger\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-times\"})))));};PostItem.defaultProps={showActions:true};var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};export default connect(mapStateToProps,{addLike:addLike,removeLike:removeLike,deltePost:deltePost})(PostItem);","map":{"version":3,"sources":["C:/udmeyCourse/node/devNetwork/client/src/components/posts/PostItem.js"],"names":["React","Link","Moment","connect","addLike","removeLike","deltePost","PostItem","auth","post","_id","text","name","avatar","user","likes","comments","date","showActions","e","length","loading","defaultProps","mapStateToProps","state"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,OAAT,CAAkBC,UAAlB,CAA8BC,SAA9B,KAA+C,mBAA/C,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,UACfH,CAAAA,OADe,MACfA,OADe,CAEfC,UAFe,MAEfA,UAFe,CAGfC,SAHe,MAGfA,SAHe,CAIfE,IAJe,MAIfA,IAJe,gBAKfC,IALe,CAKPC,GALO,WAKPA,GALO,CAKFC,IALE,WAKFA,IALE,CAKIC,IALJ,WAKIA,IALJ,CAKUC,MALV,WAKUA,MALV,CAKkBC,IALlB,WAKkBA,IALlB,CAKwBC,KALxB,WAKwBA,KALxB,CAK+BC,QAL/B,WAK+BA,QAL/B,CAKyCC,IALzC,WAKyCA,IALzC,CAMfC,WANe,MAMfA,WANe,oBAQf,2BAAK,SAAS,CAAC,wBAAf,eACE,4CACE,oBAAC,IAAD,EAAM,EAAE,oBAAcJ,IAAd,CAAR,eACE,2BAAK,SAAS,CAAC,WAAf,CAA2B,GAAG,CAAED,MAAhC,CAAwC,GAAG,CAAC,EAA5C,EADF,cAEE,8BAAKD,IAAL,CAFF,CADF,CADF,cAOE,4CACE,yBAAG,SAAS,CAAC,MAAb,EAAqBD,IAArB,CADF,cAEE,yBAAG,SAAS,CAAC,WAAb,0BACU,oBAAC,MAAD,EAAQ,MAAM,CAAC,YAAf,EAA6BM,IAA7B,CADV,CACsD,GADtD,CAFF,CAKGC,WAAW,eACV,qDACE,8BACE,OAAO,CAAE,iBAACC,CAAD,QAAOf,CAAAA,OAAO,CAACM,GAAD,CAAd,EADX,CAEE,IAAI,CAAC,QAFP,CAGE,SAAS,CAAC,eAHZ,eAKE,yBAAG,SAAS,CAAC,kBAAb,EALF,cAME,oCAAQK,KAAK,CAACK,MAAN,CAAe,CAAf,eAAoB,gCAAOL,KAAK,CAACK,MAAb,CAA5B,CANF,CADF,cASE,8BACE,OAAO,CAAE,iBAACD,CAAD,QAAOd,CAAAA,UAAU,CAACK,GAAD,CAAjB,EADX,CAEE,IAAI,CAAC,QAFP,CAGE,SAAS,CAAC,eAHZ,eAKE,yBAAG,SAAS,CAAC,oBAAb,EALF,CATF,cAgBE,oBAAC,IAAD,EAAM,EAAE,kBAAYA,GAAZ,CAAR,CAA2B,SAAS,CAAC,iBAArC,eACa,GADb,CAEGM,QAAQ,CAACI,MAAT,CAAkB,CAAlB,eACC,4BAAM,SAAS,CAAC,eAAhB,EAAiCJ,QAAQ,CAACI,MAA1C,CAHJ,CAhBF,CAsBG,CAACZ,IAAI,CAACa,OAAN,EAAiBP,IAAI,GAAKN,IAAI,CAACM,IAAL,CAAUJ,GAApC,eACC,8BACE,OAAO,CAAE,iBAACS,CAAD,QAAOb,CAAAA,SAAS,CAACI,GAAD,CAAhB,EADX,CAEE,IAAI,CAAC,QAFP,CAGE,SAAS,CAAC,gBAHZ,eAKE,yBAAG,SAAS,CAAC,cAAb,EALF,CAvBJ,CANJ,CAPF,CARe,EAAjB,CA0DAH,QAAQ,CAACe,YAAT,CAAwB,CACtBJ,WAAW,CAAE,IADS,CAAxB,CAYA,GAAMK,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,QAAY,CAClChB,IAAI,CAAEgB,KAAK,CAAChB,IADsB,CAAZ,EAAxB,CAGA,cAAeL,CAAAA,OAAO,CAACoB,eAAD,CAAkB,CAAEnB,OAAO,CAAPA,OAAF,CAAWC,UAAU,CAAVA,UAAX,CAAuBC,SAAS,CAATA,SAAvB,CAAlB,CAAP,CACbC,QADa,CAAf","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport Moment from 'react-moment';\r\nimport { connect } from 'react-redux';\r\nimport { addLike, removeLike, deltePost } from '../../action/post';\r\n\r\nconst PostItem = ({\r\n  addLike,\r\n  removeLike,\r\n  deltePost,\r\n  auth,\r\n  post: { _id, text, name, avatar, user, likes, comments, date },\r\n  showActions,\r\n}) => (\r\n  <div className=\"post bg-white p-1 my-1\">\r\n    <div>\r\n      <Link to={`/profile/${user}`}>\r\n        <img className=\"round-img\" src={avatar} alt=\"\" />\r\n        <h4>{name}</h4>\r\n      </Link>\r\n    </div>\r\n    <div>\r\n      <p className=\"my-1\">{text}</p>\r\n      <p className=\"post-date\">\r\n        Post on <Moment format=\"YYYY/MM/DD\">{date}</Moment>{' '}\r\n      </p>\r\n      {showActions && (\r\n        <>\r\n          <button\r\n            onClick={(e) => addLike(_id)}\r\n            type=\"button\"\r\n            className=\"btn btn-light\"\r\n          >\r\n            <i className=\"fas fa-thumbs-up\" />\r\n            <span> {likes.length > 0 && <span>{likes.length}</span>}</span>\r\n          </button>\r\n          <button\r\n            onClick={(e) => removeLike(_id)}\r\n            type=\"button\"\r\n            className=\"btn btn-light\"\r\n          >\r\n            <i className=\"fas fa-thumbs-down\" />\r\n          </button>\r\n          <Link to={`/posts/${_id}`} className=\"btn btn-primary\">\r\n            Discussion{' '}\r\n            {comments.length > 0 && (\r\n              <span className=\"comment-count\">{comments.length}</span>\r\n            )}\r\n          </Link>\r\n          {!auth.loading && user === auth.user._id && (\r\n            <button\r\n              onClick={(e) => deltePost(_id)}\r\n              type=\"button\"\r\n              className=\"btn btn-danger\"\r\n            >\r\n              <i className=\"fas fa-times\" />\r\n            </button>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  </div>\r\n);\r\n\r\nPostItem.defaultProps = {\r\n  showActions: true,\r\n};\r\n\r\nPostItem.propTypes = {\r\n  post: PropTypes.object.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  addLike: PropTypes.func.isRequired,\r\n  removeLike: PropTypes.func.isRequired,\r\n  deltePost: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\nexport default connect(mapStateToProps, { addLike, removeLike, deltePost })(\r\n  PostItem\r\n);\r\n"]},"metadata":{},"sourceType":"module"}